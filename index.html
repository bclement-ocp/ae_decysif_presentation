<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>reveal.js</title>

    <link rel="stylesheet" href="dist/reset.css">
    <link rel="stylesheet" href="dist/reveal.css">
    <link rel="stylesheet" href="dist/theme/moon.css">

    <!-- Theme used for syntax highlighted code -->
    <link rel="stylesheet" href="plugin/highlight/monokai.css">
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section>
          <h3>Alt-Ergo</h3>
          <p>
            Projet D√©cysif üèå - 19 D√©cembre 2023
          </p> 
          <p>
            <small>Basile Cl√©ment, pour l'√©quipe Alt-Ergo @ OCamlPro</small>
          </p> 
        </section>
        <section data-markdown data-separator-vertical="\r?\n--\r?\n">
          <textarea data-template>
            ## Alt-Ergo

            ![Alt-Ergo](altergo-spider-web.png)

            ---

            ## Alt-Ergo ‚à©Ô∏è D√©cysif

            - Bitvecteurs (entiers machine) <!-- .element class="fragment" -->
            - Types alg√©briques <!-- .element class="fragment" -->
            - S√©quences <!-- .element class="fragment" -->
            - G√©n√©ration de mod√®les <!-- .element class="fragment" -->
            - Optimisation (MaxSMT) <!-- .element class="fragment" -->
            - <!-- .element class="fragment" --> <strong>Votre probl√©matique ici!</strong>

            ---

            ## Bit-vecteurs

            Avant la version 2.5.0 : `extract` et `concat

            Depuis la version 2.5.0 :

              - <!-- .element class="fragment" -->
                `bvand`, `bvor`, `bvnot`, `bvxor`, ...
              - <!-- .element class="fragment" -->
                `bvadd`, `bvsub`, `bvmul`, `bvudiv`, `bvsdiv`, ...
              - <!-- .element class="fragment" -->
                `bvult`, `bvule`, `bvslt`, `bvsle`, ...
              - <!-- .element class="fragment" -->
                `bv2nat`, `int2bv`

            ---

            ## Types alg√©briques

            ```rust
            enum Tree<T> {
                Empty,
                Node(T, Box<Tree<T>>, Box<Tree<T>>)
            }
            ```

             - Polymorphisme <!-- .element class="fragment" -->
             - D√©finition r√©cursive <!-- .element class="fragment" -->

            ---

            ## S√©quences

            Th√®se CIFRE avec le CEA en cours... stay tuned!

            ---

            ## G√©n√©ration de mod√®les : Exemple

            ```lisp [|1,9|5-7]
            (set-option :produce-models true)
            (set-logic ALL)
            (declare-const a Int)
            (declare-const b Int)
            (assert (> a 1))
            (assert (> b 1))
            (assert (= (* a b) 467149))
            (check-sat)
            (get-model)
            ```

            --

            ## G√©n√©ration de mod√®les (CVC5)

            ```lisp [7:]
            (assert (= (* a b) 467149))
            ```

            ```console
            $ cvc5 input.smt2 # 20s
            cvc5 interrupted by timeout.
            ```

            --

            ## G√©n√©ration de mod√®les (Alt-Ergo)

            ```lisp [7:]
            (assert (= (* a b) 467149))
            ```

            ```console
            $ alt-ergo input.smt2 # 0.3s
            unknown
            (
              (define-fun a () Int 569)
              (define-fun b () Int 821)
            )
            ```

            ---

            ## G√©n√©ration de mod√®les : Bit-vecteurs

            ```lisp [6-8]
            (set-logic ALL)
            (set-option :produce-models true)
            (declare-const r (_ BitVec 8))
            (declare-const l (_ BitVec 8))
            (declare-const m (_ BitVec 8))
            (assert (bvule l r))
            (assert (= m (bvudiv (bvadd l r) (_ bv2 8))))
            (assert (not (and (bvule l m) (bvule m r))))
            (check-sat)
            (get-model)
            ```

            --

            ## G√©n√©ration de mod√®les : Bit-vecteurs

            ```lisp [6:]
            (assert (bvule l r))
            (assert (= m (bvudiv (bvadd l r) (_ bv2 8))))
            (assert (not (and (bvule l m) (bvule m r))))
            ```

            ```console
            $ alt-ergo input.smt2
            unknown
            (
              (define-fun r () (_ BitVec 8) #b11111111)
              (define-fun l () (_ BitVec 8) #b00000001)
              (define-fun m () (_ BitVec 8) #b00000000)
            )
            ```

            ---

            ## G√©n√©ration de mod√®les : ADTs

            ```lisp [3,5-6]
            (set-option :produce-models true)
            (set-logic ALL)
            (declare-datatype Tree (par (T) ((Node (val T) (left (Tree T)) (right (Tree T))) (Empty))))
            (declare-const t (Tree Int))
            (assert ((_ is Node) t))
            (assert (= (left t) Empty))
            (check-sat)
            (get-model)
            ```

            ```console fragment
            $ alt-ergo input.smt2
            [Error][ADTs.models] assign_value currently not implemented

            ; Feature not implemented (Models for ADTs)
            ```

            Encore du travail <!-- .element class="fragment" -->

            ---

            ## G√©n√©ration de mod√®les

            - Entiers ‚úÖ <!-- .element class="fragment" -->
            - R√©els / rationnels ‚úÖ <!-- .element class="fragment" -->
            - Tableaux ‚úÖ <!-- .element class="fragment" -->
            - Records ‚úÖ <!-- .element class="fragment" -->
            - √ânum√©rations ‚úÖ <!-- .element class="fragment" -->
            - Bit-vecteurs üöÄ <!-- .element class="fragment" -->
            - Types alg√©briques üë∑ <!-- .element class="fragment" -->
            - Fonctions ‚úÖ <!-- .element class="fragment" -->
            - Fonctions r√©cursives ‚ùå <!-- .element class="fragment" -->

            ---

            ## Optimisation

            <img class="fragment" src="7seg.jpg" width="300px" alt="Afficheur 7 segments">

            --

            ## Optimisation

            ```lisp [4-5]
            (set-option :produce-models true)
            (set-logic ALL)
            (declare-const x Int)
            (assert (>= x 0))
            (assert (distinct x (+ (mod x 10) (* 10 (mod (div x 10) 10)))))
            (check-sat)
            (get-model)
            ```

            ```console fragment
            $ alt-ergo input.smt2
            unknown
            (
              (define-fun x () Int 200)
            )
            ```

            --

            ## Optimisation
            
            ```lisp [6]
            (set-option :produce-models true)
            (set-logic ALL)
            (declare-const x Int)
            (assert (>= x 0))
            (assert (distinct x (+ (mod x 10) (* 10 (mod (div x 10) 10)))))
            (minimize x)
            (check-sat)
            (get-model)
            ```

            ```console fragment
            $ alt-ergo --optimize input.smt2
            unknown
            (
              (define-fun x () Int 100)
            )
            ```

            ---

            ## Optimisation

            ```lisp [|7]
            (set-logic ALL)
            (set-option :produce-models true)
            (declare-const x Real)
            (declare-const y Real)
            (assert (<= x 17.0))
            (assert (= (* 5.0 x) (* 2.0 y)))
            (maximize (+ (* 2.0 x) (* 3.0 y)))
            (check-sat)
            (get-model)
            (get-objectives)
            ```

            ```console fragment
            $ alt-ergo --optimize input.smt2
            unknown
            (
              (define-fun x () Real 17.0)
              (define-fun y () Real (/ 85 2))
            )
            (objectives 
              ((+ (* 2.0 x) (* 3.0 y)) (/ 323 2))
            )
            ```

            ---

            ## Optimisation

            - Entiers üöÄ <!-- .element class="fragment" -->
            - R√©els / rationnels üöÄ <!-- .element class="fragment" -->
            - Bit-vecteurs üë∑ <!-- .element class="fragment" -->

            ---

            ## Version 2.5.0

            - Syntaxe SMT-LIB <!-- .element class="fragment" -->
            - Contre-exemples (dans Why3 1.7.0 ü•≥) <!-- .element class="fragment" -->
            - Bit-vecteurs (support pr√©liminaire) <!-- .element class="fragment" -->

            ---

            ## Prochaines versions

            ![MaxSMT, merged](optimae.png)
            Support de l'optimisation

            --

            ## Prochaines versions

            ![Constant propagation, merged](cpmr.png)
            Validit√© des mod√®les

            --

            ## Prochaines versions

            ![Use Z.t, merged](bvz.png)
            Meilleures performances sur les bit-vecteurs

            --

            ## Prochaines versions

            ![bvnot support, merged](bvnot.png)
            ![Word-level propagation for BV logic, merged](bvmr.png)
            +10% de probl√®mes r√©solus sur les bit-vecteurs

            --

            ## Prochaines versions

            - G√©n√©ration de mod√®les pour les ADTs
            - Raisonnement sur les ADTs
            - Raisonnement sur les bit-vecteurs
            - Optimisation pour les bit-vecteurs
            - Votre probl√©matique ici?

            ---

            ## Alt-Ergo : R√©sum√©

             - Solveur math√©matique
             - G√©n√©ration de mod√®les
             - Optimisation
             - Travaux en cours : Bit-vecteurs et types alg√©briques
             - <a href="https://github.com/OCamlPro/Alt-Ergo">https://github.com/OCamlPro/Alt-Ergo</a>

          </textarea>
        </section>
      </div>
    </div>

    <script src="dist/reveal.js"></script>
    <script src="plugin/notes/notes.js"></script>
    <script src="plugin/markdown/markdown.js"></script>
    <script src="plugin/highlight/highlight.js"></script>
    <script>
      // More info about initialization & config:
      // - https://revealjs.com/initialization/
      // - https://revealjs.com/config/
      Reveal.initialize({
        hash: true,

        // Learn about plugins: https://revealjs.com/plugins/
        plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
      });
    </script>
  </body>
</html>
